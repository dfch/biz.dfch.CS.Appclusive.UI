@model IEnumerable<biz.dfch.CS.Appclusive.UI.Models.Core.Node>
@using biz.dfch.CS.Appclusive.UI.Helpers
@using biz.dfch.CS.Appclusive.UI.App_LocalResources
@{
    ViewBag.AjaxItemSearchTargetId = "itemListAjax";
    ViewBag.AjaxItemSearchAction = "ItemIndex";

    RouteValueDictionary sd = new RouteValueDictionary();
    sd.Add("parentId", ViewBag.ParentId);
    ViewBag.AjaxSearchRouteValueDictionary = sd;
}
<div class="row">
    @Html.Partial("AjaxItemSearchForm")
</div>
<div class="ap-busyParent">
    <div id="itemListLoading"></div>
    @Html.Partial("ItemIndex", Model)
</div>

@using (Html.Delayed(null, "itemListLoading"))
{
    <script type="text/javascript">

        function showBusy() {
            $("#itemListLoading").show();
        }
        function hideBusy() {
            $("#itemListLoading").hide();
        }

    </script>
}
